<div class="container">
  <div class="mt-5 row">
    <div class="mx-auto d-flex justify-content-center">
      <app-logo></app-logo>
    </div>
  </div>

  <header>
    <h1 class="my-5 text-center">Organización</h1>
  </header>

  <div class="mx-auto d-flex justify-content-center">
    <main>
      <form [formGroup]="form">
        <!-- NAME -->
        <div class="field">
          <label for="name" class="block my-2">Nombre</label>
          <input
            class="form-control"
            id="name"
            type="text"
            aria-describedby="name-help"
            [ngClass]="{
              'ng-invalid ng-dirty':
                form.get('name')?.touched && form.get('name')?.errors
            }"
            formControlName="name"
            pInputText
          />
          <small
            *ngIf="form.get('name')?.touched && form.get('name')?.errors"
            id="name-help"
            class="p-error block"
          >
            Debe ingresar un nombre
          </small>
        </div>

        <!-- IMAGE -->
        <div class="field mt-3">
          <div *ngIf="image; else imageRequire">
            <div class="d-flex justify-content-center">
              <img [src]="image" class="w-50 h-50" alt="" />
            </div>
            <small id="image-text" class="block">
              Para modificar la imagen seleccione un nuevo archivo.
            </small>
          </div>
          <ng-template #imageRequire>
            <div class="d-flex justify-content-center">
              <img src="./assets/images/upload.png" class="w-50 h-50" alt="" />
            </div>
            <div class="mb-5 fs-2 text-center">
              <small *ngIf="!image" id="description-help">
                Imagen es requerida.
              </small>
            </div>
          </ng-template>
          <p-fileUpload
            #fileUploader
            (uploadHandler)="onUpload($event, fileUploader)"
            [customUpload]="true"
            [multiple]="false"
            [showCancelButton]="false"
            accept=".jpg,.png"
            class="mt-3"
            id="image"
            name="image"
          ></p-fileUpload>
        </div>

        <!-- DESCRIPTION -->
        <div class="field mt-3">
          <label for="shortDescription" class="my-2">Descripción</label>
          <ckeditor
            formControlName="description"
            data="<p>Breve descripción!</p>"
          ></ckeditor>
          <small
            *ngIf="
              form.get('description')?.touched &&
              form.get('description')?.errors
            "
            id="logo-help"
            class="p-error block"
          >
            El detalle es obligatorio.
          </small>
        </div>

        <!-- SOCIAL -->

        <!-- Facebook -->
        <div class="field mt-3">
          <label for="facebook" class="block my-2">Facebook</label>
          <input
            class="form-control"
            [ngClass]="{
              'ng-invalid ng-dirty':
                form.get('facebook')?.touched && form.get('facebook')?.errors
            }"
            formControlName="facebook"
            id="facebook"
            type="text"
            aria-describedby="facebook-help"
            pInputText
          />
          <small
            *ngIf="
              form.get('facebook')?.touched && form.get('facebook')?.errors
            "
            id="facebook-help"
            class="p-error block"
          >
            La Url debe ser válida.
          </small>
        </div>

        <!-- LinkedIn -->
        <div class="field">
          <label for="linkedin" class="block my-2">LinkedIn</label>
          <input
            class="form-control"
            [ngClass]="{
              'ng-invalid ng-dirty':
                form.get('linkedin')?.touched && form.get('linkedin')?.errors
            }"
            formControlName="linkedin"
            id="linkedin"
            type="text"
            aria-describedby="linkedin-help"
            pInputText
          />
          <small
            *ngIf="
              form.get('linkedin')?.touched && form.get('linkedin')?.errors
            "
            id="facebook-help"
            id="linkedin-help"
            class="p-error block"
          >
            La Url debe ser válida.
          </small>
        </div>

        <!-- Instagram -->
        <div class="field">
          <label for="instagram" class="block my-2">Instagram</label>
          <input
            class="form-control"
            [ngClass]="{
              'ng-invalid ng-dirty':
                form.get('instagram')?.touched && form.get('instagram')?.errors
            }"
            formControlName="instagram"
            id="instagram"
            type="text"
            aria-describedby="instagram-help"
            pInputText
          />
          <small
            *ngIf="
              form.get('instagram')?.touched && form.get('instagram')?.errors
            "
            id="instagram-help"
            class="p-error block"
          >
            La Url debe ser válida.
          </small>
        </div>

        <!-- Twitter -->
        <div class="field">
          <label for="twitter" class="block my-2">Twitter</label>
          <input
            class="form-control"
            [ngClass]="{
              'ng-invalid ng-dirty':
                form.get('instagram')?.touched && form.get('instagram')?.errors
            }"
            formControlName="twitter"
            id="twitter"
            type="text"
            aria-describedby="twitter-help"
            pInputText
          />
          <small
            *ngIf="form.get('twitter')?.touched && form.get('twitter')?.errors"
            id="twitter-help"
            class="p-error block"
          >
            La Url debe ser válida.
          </small>
        </div>

        <!-- Button -->
        <div class="my-3 d-flex justify-content-center">
          <button
            pButton
            pRipple
            type="button"
            label="Editar"
            class="primary mt-3"
            (click)="submit()"
          ></button>
        </div>
      </form>
    </main>
  </div>
</div>
