<p-toast></p-toast>
<div class="container">
  <div class="row">
    <!-- <div *ngIf="items" class="wrapper"> -->
    <div *ngIf="items" class="mx-auto d-flex justify-content-center">
      <div class="card">
        <p-toolbar styleClass="mb-4">
          <ng-template pTemplate="left">
            <button
              pButton
              pRipple
              label="Nueva {{ items.title }}"
              icon="pi pi-plus"
              class="p-button-success mr-2"
              [routerLink]="[items.path, '']"
            ></button>
          </ng-template>
        </p-toolbar>

        <p-table
          #dt
          [value]="items.data"
          [rows]="5"
          [paginator]="true"
          responsiveLayout="scroll"
          [rowHover]="true"
          dataKey="id"
          currentPageReportTemplate="Mostrando de {first} a {last} de {totalRecords} {{
            items.title
          }}"
          [showCurrentPageReport]="true"
        >
          <ng-template pTemplate="caption">
            <div class="d-flex align-items-center justify-content-center">
              <h5 class="m-0">{{ items.title }}</h5>
            </div>
          </ng-template>

          <ng-template pTemplate="header">
            <tr>
              <th *ngFor="let title of titlesCol">
                <p class="text-center">{{ title }}</p>
              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-item>
            <tr>
              <td *ngIf="item.name">
                <p class="text-center">{{ item.name }}</p>
              </td>
              <td>
                <div class="col mx-auto">
                  <img
                    *ngIf="item.image"
                    [src]="item.image"
                    [alt]="item.name"
                    class="img-fluid"
                  />
                </div>
              </td>
              <td *ngIf="item.created_at">
                <p class="text-center">{{ item.created_at | date }}</p>
              </td>
              <td>
                <button
                  pButton
                  pRipple
                  icon="pi pi-pencil"
                  class="p-button-rounded p-button-success my-2 me-2"
                  [routerLink]="[items.path, item.id]"
                ></button>
                <button
                  pButton
                  pRipple
                  icon="pi pi-trash"
                  class="p-button-rounded p-button-warning"
                  (click)="deleteItem(item.id, item.name)"
                ></button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
</div>
